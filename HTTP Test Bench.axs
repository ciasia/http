PROGRAM_NAME='HTTP Test Bench'
(***********************************************************)
(*          DEVICE NUMBER DEFINITIONS GO BELOW             *)
(***********************************************************)
DEFINE_DEVICE
dvTP					=	10001:1:0

(***********************************************************)
(*               CONSTANT DEFINITIONS GO BELOW             *)
(***********************************************************)
DEFINE_CONSTANT
#DEFINE HTTP_RESPONSE_CALLBACK

integer btnGET = 1

(***********************************************************)
(*          MODULE/INCLUDE DEFINITIONS GO BELOW            *)
(***********************************************************)
#INCLUDE 'http.axi'

(***********************************************************)
(*        SUBROUTINE/FUNCTION DEFINITIONS GO BELOW         *)
(***********************************************************)
define_function amx_log(integer LogLevel, char Text[])
{
	SEND_STRING 0, Text
}

define_function http_response_received(long seq, char host[512], http_request request, http_response response)
{
	SEND_STRING 0, response.body
}

(***********************************************************)
(*                THE EVENTS GO BELOW                      *)
(***********************************************************)
DEFINE_EVENT

//-----------------------------------------------------------------------------------------------//
//                                         Button Events                                         //
//-----------------------------------------------------------------------------------------------//
BUTTON_EVENT[dvTP, btnGET]
{
	PUSH:
	{
		http_get('http://htc.accuweather.com/widget/htc/forecast-data_v3.asp?ac=TR2cra9U&locCode=OCN|AU|NSW|SYDNEY')
	}
}

//-----------------------------------------------------------------------------------------------//
//                                        Channel Events                                         //
//-----------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------//
//                                         Custom Events                                         //
//-----------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------//
//                                          Data Events                                          //
//-----------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------//
//                                         Level Events                                          //
//-----------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------//
//                                        Timeline Events                                        //
//-----------------------------------------------------------------------------------------------//


